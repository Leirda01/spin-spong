[gd_scene load_steps=8 format=2]

[ext_resource path="res://sprites/effects/crown/CrownSpriteFrames.tres" type="SpriteFrames" id=1]
[ext_resource path="res://shaders/BlendAdd.tres" type="Material" id=2]
[ext_resource path="res://shaders/ShaderColor.material" type="Material" id=3]
[ext_resource path="res://scripts/effects/Crown.gd" type="Script" id=4]
[ext_resource path="res://sprites/effects/particles/CrownParticle.png" type="Texture" id=5]

[sub_resource type="Curve" id=1]
min_value = -200.0
max_value = 200.0
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.991903, 75.5102 ), 336.054, 0.0, 0, 0 ]

[sub_resource type="Curve" id=2]
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.82996, 0.647556 ), -0.452381, -0.452381, 0, 0, Vector2( 1, 0.36352 ), 0.144023, 0.0, 0, 0 ]

[node name="Crown" type="AnimatedSprite"]
material = ExtResource( 3 )
frames = ExtResource( 1 )
animation = "fade-out"
frame = 22
playing = true
centered = false
script = ExtResource( 4 )

[node name="Particles" type="CPUParticles2D" parent="."]
material = ExtResource( 2 )
emitting = false
amount = 200
lifetime = 3.0
randomness = 0.7
lifetime_randomness = 0.7
texture = ExtResource( 5 )
emission_shape = 3
emission_points = PoolVector2Array( 149, 89, 149, 91, 149, 95, 149, 99, 149, 103, 149, 107, 149, 111, 149, 115, 149, 119, 149, 123, 149, 127, 149, 131, 149, 135, 149, 139, 149, 143, 149, 147, 149, 151, 149, 155, 149, 159, 149, 163, 149, 167, 149, 171, 149, 175, 149, 179, 153, 93, 153, 179, 157, 97, 157, 179, 161, 101, 161, 179, 165, 105, 165, 179, 169, 109, 169, 179, 173, 113, 173, 179, 177, 117, 177, 179, 181, 121, 181, 179, 185, 125, 185, 179, 189, 129, 189, 179, 193, 133, 193, 179, 195, 133, 197, 179, 199, 129, 201, 179, 203, 125, 205, 179, 207, 121, 209, 179, 211, 117, 213, 179, 215, 113, 217, 179, 219, 109, 221, 179, 223, 105, 225, 179, 227, 101, 229, 179, 231, 97, 233, 179, 235, 93, 237, 179, 239, 89, 241, 179, 243, 93, 245, 179, 247, 97, 249, 179, 251, 101, 253, 179, 255, 105, 257, 179, 259, 109, 261, 179, 263, 113, 265, 179, 267, 117, 269, 179, 271, 121, 273, 179, 275, 125, 277, 179, 279, 129, 281, 179, 283, 133, 285, 133, 285, 179, 289, 129, 289, 179, 293, 125, 293, 179, 297, 121, 297, 179, 301, 117, 301, 179, 305, 113, 305, 179, 309, 109, 309, 179, 313, 105, 313, 179, 317, 101, 317, 179, 321, 97, 321, 179, 325, 93, 325, 179, 329, 89, 329, 91, 329, 95, 329, 99, 329, 103, 329, 107, 329, 111, 329, 115, 329, 119, 329, 123, 329, 127, 329, 131, 329, 135, 329, 139, 329, 143, 329, 147, 329, 151, 329, 155, 329, 159, 329, 163, 329, 167, 329, 171, 329, 175, 329, 179 )
emission_colors = PoolColorArray(  )
direction = Vector2( 0, -1 )
spread = 90.0
gravity = Vector2( 0, -22 )
initial_velocity = 22.0
initial_velocity_random = 0.8
linear_accel_curve = SubResource( 1 )
scale_amount_curve = SubResource( 2 )

[node name="ParticlesDeletion" type="Timer" parent="."]
wait_time = 4.0
one_shot = true
[connection signal="animation_finished" from="." to="." method="_on_Crown_animation_finished"]
[connection signal="timeout" from="ParticlesDeletion" to="." method="_on_ParticlesDeletion_timeout"]
